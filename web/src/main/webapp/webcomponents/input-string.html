<element name="xf-input">
    <template>
        <!-- the context for pathes is the original xforms element -->
        <label for="{@id}">{xf:label}</label>
        <input type="text" placeholder="{xf:hint}" value="{bf:data}"/>

    </template>
    <script>
        xtag.register('xf-input', {
                xfElement:this,
                lifecycle:{


                    created: function(){
                        console.log("input created",this);
                        this.xfElement=this;
                        var input = this.xtag.input = this.querySelector("input");
                        var val = this.xtag.value = this.getAttribute("value");
                        input.className = 'xf-input-control';
                        input.value = val.innerHTML;
                        console.log("value: ",input.value);
/*
                        var xfValue=$(this).find('xf-value');
                        var control = $(this).find("input");
                        control.value=xfValue;
*/

                        //oder besser observer
//                        xtag.fireEvent(xfValue,'init')

                    },
                    inserted: function(){
                        console.log("input inserted");
                        // fired each time a component
                        // is inserted into the DOM
                    },
                    removed: function(){
                        console.log("removed");
                        // fired each time an element
                        // is removed from DOM
                    },
                    attributeChanged: function(){
                        console.log("attributeChanged  ");
                        // fired when attributes are set
                    }
                },
                events: {
                    'init:delegate(input)':function(e){
/*
                        console.log("value chaanaaannnnnnngeeeedddd",e);
                        var control = this.xfElement.querySelector('input');
                        control.value=this.innerHTML;
*/

                    } ,
                    'change:delegate(.xf-input-control)': function(e){
                        console.log("this  ",this);
                        console.log("this.value  ",this.value);
                        console.log("this.parent  ",this.parentNode);
                        this.parentNode.setAttribute("value",this.value);
                        var msg = jQuery.stringifyJSON({
                            targetId:this.parentNode.id,
                            eventType:'changed',
                            value:this.value
                        });
                        document.querySelector("better-atmosphere").pushMsg(msg);

                    }
                },
                accessors: {
                    value: {
                        attribute: {},
                        get: function(){
                            return this.xtag.input.value;
                        },
                        set: function(value){
                            this.xtag.input.value = value;
                        }
                    }
                },
                methods: {
                }
            });
    </script>
</element>