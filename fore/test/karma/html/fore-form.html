<!doctype html>
<html>
<head>
  <title>fore form</title>
  <script src="../../../app/bower_components/platform/platform.js"></script>
  <script src="../tools/htmltest.js"></script>
  <script src="../../../node_modules/chai/chai.js"></script>
  <link rel="import" href="../../../app/elements/fore-form.html">
  <style>
  </style>
</head>
<body>
  <form dataformat="xml" id="first" is="fore-form" name="contact" onsubmit="return false;">
      <input id="firstname" name="firstname" type="text" value="Brat"> </input>
  </form>
        
  <script>
    var assert = chai.assert;
    var async = requestAnimationFrame;

    window.addEventListener('fore-ready', function() {
      console.log('fore-form: fore-ready');
      var form = document.querySelector('#first');
      console.log('first ' ,form);
      assert.isDefined(form, 'form is defined');
      assert.equal(form.id, 'first');
      assert.isDefined(form.xfmodel, 'xfmodel is defined');
      assert.equal(form.xfmodel.id, 'defaultModel');
      assert.isDefined(form.xfmodel.instances, 'instances is defined');
      assert.isDefined(form.xfmodel.getDefaultInstance(), 'defaultInstance is defined');
      var defInstID = form.xfmodel.getDefaultInstance();
      assert.equal(defInstID, 'defaultInstance');
      assert.isDefined(form.xfmodel.getInstance(defInstID), 'defaultInstance is present');
      //assert.equal(form.xfmodel.getInstance(defInstID).getValue('contact.firstname', 'Brat'))
      done();
      console.log("All done ... fore-form");
    });
  </script>
  
       
    </body>
</html>
